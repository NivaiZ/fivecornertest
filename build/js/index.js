function init(){var e,t=new ymaps.Map("form-map",{center:[60.033081,30.428086],zoom:16,controls:["zoomControl","geolocationControl","fullscreenControl"]});function o(e){return new ymaps.Placemark(e,{iconCaption:"Уже ищу..."},{preset:"islands#violetDotIconWithCaption",draggable:!0})}function r(t){e.properties.set("iconCaption","поиск..."),ymaps.geocode(t).then((function(t){var o=t.geoObjects.get(0);e.properties.set({iconCaption:[o.getLocalities().length?o.getLocalities():o.getAdministrativeAreas(),o.getThoroughfare()||o.getPremise()].filter(Boolean).join(", "),balloonContent:o.getAddressLine()})}))}t.behaviors.disable("scrollZoom"),t.events.add("click",(function(s){var n=s.get("coords");e?e.geometry.setCoordinates(n):(e=o(n),t.geoObjects.add(e),e.events.add("dragend",(function(){r(e.geometry.getCoordinates())}))),r(n)})),myGeoObject=new ymaps.GeoObject({geometry:{type:"Point",coordinates:[60.033081,30.428086]},properties:{iconCaption:"Проспект Просвещения, 99"}},{preset:"islands#greenDotIconWithCaption"}),myPieChart=new ymaps.Placemark([60.033081,30.428086]),t.geoObjects.add(myGeoObject);const s=s=>{ymaps.geocode(s).then((s=>{const n=s.geoObjects.get(0),a=n.geometry.getCoordinates(),c=n.properties.get("boundedBy");t.setBounds(c,{checkZoomRange:!0}),e=o(a),t.geoObjects.add(e),r(e.geometry.getCoordinates())}),(e=>{console.log(e)}))},n=new ymaps.SuggestView("search"),a=new ymaps.SuggestView("search__mobile");n.events.add("select",(e=>{const t=e.get("item").value;s(t)})),a.events.add("select",(e=>{const t=e.get("item").value;s(t)}))}ymaps.ready(init);let phoneMask=IMask(document.getElementById("phone"),{mask:"+{7}(000)000-00-00"});const element=document.querySelector(".form-order__select"),choices=new Choices(element,{searchEnabled:!1,itemSelectText:""}),orderForm=document.querySelector("#form-basket");function retrieveFormValue(){event.preventDefault();const e=new FormData(orderForm),t=Object.fromEntries(e.entries());alert("Данные отправлены"),console.log("Данные корзины",t)}orderForm.addEventListener("submit",retrieveFormValue);const clickBurgerMenuFunction=()=>{const e=document.querySelector(".header-block__burger"),t=document.querySelector(".header-block__content"),o=document.querySelector(".page-body"),r=document.querySelector(".header-block__button");e.addEventListener("click",(()=>{e.classList.toggle("header-block__burger--open"),t.classList.toggle("header-block__content--open"),o.classList.toggle("page-body__noscroll")})),document.addEventListener("click",(r=>{const s=r.target;s.closest(".header-block__content")||s.closest(".header-block__burger")||(t.classList.remove("header-block__content--open"),e.classList.remove("header-block__burger--open"),o.classList.remove("page-body__noscroll"))})),document.addEventListener("keydown",(r=>{27===r.keyCode&&t.classList.contains("header-block__content--open")&&(r.preventDefault(),t.classList.remove("header-block__content--open"),e.classList.remove("header-block__burger--open"),o.classList.remove("page-body__noscroll"))})),r.addEventListener("click",(()=>{t.classList.remove("header-block__content--open"),e.classList.remove("header-block__burger--open"),o.classList.remove("page-body__noscroll")}))},searchButton=document.querySelector(".search-header__item"),inputSearch=document.querySelector(".search-header__enter"),addClassOverlay=document.querySelector(".search-header__modal"),buttonSubmit=document.querySelector(".search-header__burger"),offsetWidth=document.documentElement.clientWidth;searchButton.addEventListener("click",(e=>{offsetWidth<1140&&inputSearch.focus(),inputSearch.classList.add("search-header__enter--open"),addClassOverlay.classList.add("search-header__modal--open"),buttonSubmit.classList.add("search-header__burger--open")})),searchButton.addEventListener("keydown",(e=>{27===e.keyCode&&addClassOverlay.classList.contains("search-header__modal--open")&&(addClassOverlay.classList.remove("search-header__modal--open"),inputSearch.classList.remove("search-header__enter--open"),buttonSubmit.classList.remove("search-header__burger--open"))})),addClassOverlay.addEventListener("click",(e=>{const t=e.target;t.closest(".header-block__content")||t.closest(".header-block__burger")||(addClassOverlay.classList.remove("search-header__modal--open"),inputSearch.classList.remove("search-header__enter--open"),buttonSubmit.classList.remove("search-header__burger--open"))}));const inputMobile=document.querySelector("#email");inputMobile.onblur=function(){this.value.includes("@")||inputMobile.focus()},clickBurgerMenuFunction();